<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Orders</title>
<link rel="stylesheet" href="style.css">
<style>
  body { font-family: Arial; margin:0; padding:0; background:#f4f4f4; }
  header { background:#222; color:white; padding:15px; text-align:center; }
  table { width:90%; margin:20px auto; border-collapse: collapse; background:white; }
  th, td { border:1px solid #ddd; padding:10px; text-align:left; }
  th { background:#555; color:white; }
  button { padding:8px 12px; margin:10px 5px; cursor:pointer; border:none; border-radius:4px; }
  #clearBtn { background:red; color:white; }
  #exportBtn { background:green; color:white; }
</style>
</head>

<body>

<header>
  <h1>ðŸ§¾ Orders List</h1>
</header>

<div style="text-align:center;">
  <button id="clearBtn">Clear Orders</button>
  <button id="exportBtn">Export JSON</button>
</div>

<table id="orderTable">
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Price</th>
      <th>Time</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<script>
const tableBody = document.querySelector("#orderTable tbody");

/* LOAD ORDERS */
function loadOrders() {
  const orders = JSON.parse(localStorage.getItem("orders")) || [];
  tableBody.innerHTML = ""; // clear table

  orders.forEach(order => {
    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${order.id}</td>
      <td>${order.name}</td>
      <td>${order.price}</td>
      <td>${order.time}</td>
    `;
    tableBody.appendChild(row);
  });
}

loadOrders();

/* CLEAR ORDERS */
document.getElementById("clearBtn").addEventListener("click", () => {
  if (confirm("Are you sure you want to clear all orders?")) {
    localStorage.removeItem("orders");
    loadOrders();
    alert("All orders cleared!");
  }
});

/* EXPORT JSON */
document.getElementById("exportBtn").addEventListener("click", () => {
  const orders = JSON.parse(localStorage.getItem("orders")) || [];
  const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(orders, null, 2));
  const dlAnchor = document.createElement("a");
  dlAnchor.setAttribute("href", dataStr);
  dlAnchor.setAttribute("download", "orders.json");
  document.body.appendChild(dlAnchor);
  dlAnchor.click();
  dlAnchor.remove();
});
</script>

</body>
</html>
